<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mercaderes</title>
    <style>
        .map-container {
            position: relative;
            width: 80%;
            max-width: 800px;
            margin: auto;
        }

        .world-map {
            width: 100%;
            height: auto;
            position: relative;
        }

        .secondary-background {
            position: absolute;
            top: 0%;
            left: 0%;
            width: 100%;
            height: auto;
            opacity: 1;
            transition: opacity 0.3s ease;
            z-index: 0;
        }

        .territory {
            position: absolute;
            top: 0%;
            left: 0%;
            width: 100%;
            height: auto;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1;
        }

        .hotspot {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            z-index: 2;
        }

        .hotspot.tierras-espectrales {
            top: 65%;
            left: 60%;
            width: 50%;
            height: 38%;
        }

        .hotspot.tierra-de-los-gigantes {
            top: 0%;
            left: 0%;
            width: 40%;
            height: 60%;
        }

        .hotspot.territorio-vilkyr {
            top: 0%;
            left: 45%;
            width: 40%;
            height: 40%;
        }

        .hotspot.reino-de-valter {
            top: 54%;
            left: 12%;
            width: 40%;
            height: 40%;
        }

        .hotspot.imperio-tho-valash {
            top: 35%;
            left: 35%;
            width: 65%;
            height: 15%;
        }
    </style>
</head>
<body>

<div class="map-container">
    <img src="Mapamundi-los-mercaderes-Graysclae.jpg" alt="Mapa Global" class="world-map">
    <img src="Mapamundi-los-mercaderes.jpg" alt="Fondo Secundario" class="secondary-background" id="secondary-background">

    <a href="contenido/tierras-espectrales.html" class="hotspot tierras-espectrales" data-territory="tierras-espectrales"></a>
    <a href="contenido/tierra-de-los-gigantes.html" class="hotspot tierra-de-los-gigantes" data-territory="tierra-de-los-gigantes"></a>
    <a href="contenido/territorio-vilkyr.html" class="hotspot territorio-vilkyr" data-territory="territorio-vilkyr"></a>
    <a href="contenido/reino-de-valter.html" class="hotspot reino-de-valter" data-territory="reino-de-valter"></a>
    <a href="contenido/imperio-tho-valash.html" class="hotspot imperio-tho-valash" data-territory="imperio-tho-valash"></a>

    <div id="content-container"></div>
    
    <img src="Tierras Espectrales.png" alt="Tierras Espectrales" class="territory tierras-espectrales" id="tierras-espectrales">
    <img src="TierraDeLosGigantes.png" alt="Tierra de los Gigantes" class="territory tierra-de-los-gigantes" id="tierra-de-los-gigantes">
    <img src="Territorio Vilkÿrr.png" alt="Territorio Vilkÿrr" class="territory territorio-vilkyr" id="territorio-vilkyr">
    <img src="ReinoDeValter.png" alt="Reino de Valter" class="territory reino-de-valter" id="reino-de-valter">
    <img src="Imperio Th'o Valash.png" alt="Imperio Th'o Valash" class="territory imperio-tho-valash" id="imperio-tho-valash">
</div>

<script>
    const secondaryBackground = document.getElementById("secondary-background");
    const territories = {
        "tierras-espectrales": document.getElementById("tierras-espectrales"),       
        "territorio-vilkyr": document.getElementById("territorio-vilkyr"),
        "reino-de-valter": document.getElementById("reino-de-valter"),
        "imperio-tho-valash": document.getElementById("imperio-tho-valash"),
        "tierra-de-los-gigantes": document.getElementById("tierra-de-los-gigantes"),
    };

    function showTerritory(territory) {
        secondaryBackground.style.opacity = "0";
        for (let key in territories) {
            territories[key].style.opacity = key === territory ? "1" : "0";
        }
    }

    function resetTerritories() {
        secondaryBackground.style.opacity = "1";
        for (let key in territories) {
            territories[key].style.opacity = "0";
        }
    }

    async function loadContent(url) {
        try {
            const response = await fetch(url);
            if (response.ok) {
                const content = await response.text();
                document.getElementById('content-container').innerHTML = content;
            } else {
                console.error('Error al cargar el contenido:', response.status);
            }
        } catch (error) {
            console.error('Error de red:', error);
        }
    }

    document.querySelectorAll(".hotspot").forEach(hotspot => {
        const territory = hotspot.dataset.territory;
        hotspot.addEventListener("mouseenter", () => showTerritory(territory));
        hotspot.addEventListener("mouseleave", resetTerritories);
        hotspot.addEventListener("click", (e) => {
            e.preventDefault();
            const url = hotspot.getAttribute('href');
            loadContent(url);
        });
    });
</script>

</body>
</html>
